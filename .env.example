# M3U Streaming Proxy Configuration

# Server Configuration
HOST=0.0.0.0
PORT=8085
LOG_LEVEL=INFO
APP_DEBUG=false

# Paths
TEMP_DIR=/tmp/m3u-proxy-streams
LOG_FILE=m3u-proxy.log

# API Authentication
# Set this to require API token authentication for management endpoints
# Leave unset or empty to disable authentication
# API_TOKEN=abc123

# Redis Configuration for pooling and multi-worker coordination
REDIS_HOST=localhost
REDIS_SERVER_PORT=6379
REDIS_DB=0
# Set to true to enable Redis pooling (requires Redis server running)
REDIS_ENABLED=false
# Enable transcoding process sharing across clients
ENABLE_TRANSCODING_POOLING=true

# Strict Live TS Mode Configuration
# Enable strict mode for improved live MPEG-TS stream stability (Kodi PVR, etc.)
# Fixes "1 second play → cache → repeat" issues with live TV streams
STRICT_LIVE_TS=false
# Pre-buffer size in bytes (256KB default = ~0.5-1s of data)
STRICT_LIVE_TS_PREBUFFER_SIZE=262144
# Circuit breaker timeout - mark upstream as bad after N seconds of no data
STRICT_LIVE_TS_CIRCUIT_BREAKER_TIMEOUT=2
# How long to avoid a failed upstream before retrying (seconds)
STRICT_LIVE_TS_CIRCUIT_BREAKER_COOLDOWN=60
# Maximum time to wait for pre-buffer to complete (seconds)
STRICT_LIVE_TS_PREBUFFER_TIMEOUT=10
